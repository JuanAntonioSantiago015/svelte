{"version":3,"file":"_server.ts-BJxdlcba.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/crud/update/_muniid_/_server.ts.js"],"sourcesContent":["import { p as pool } from \"../../../../../chunks/maria.js\";\nimport \"../../../../../chunks/index.js\";\nasync function PUT({ params, request }) {\n  const { estado, nombre, cod_usuario, cod_departamento } = await request.json();\n  const { muniid } = params;\n  try {\n    const [result] = await pool.query(\n      \"UPDATE tb_municipio SET estado  = ?, nombre = ?, cod_usuario = ?, cod_departamento = ?, updated_at  = NOW() WHERE codigo = ?\",\n      [estado, nombre, cod_usuario, cod_departamento, codigo]\n    );\n    if (result.affectedRows === 0) {\n      return new Response(JSON.stringify({ error: \"No encontrado\" }), { status: 404 });\n    }\n    return new Response(JSON.stringify({ success: true }), { status: 200 });\n  } catch (error) {\n    console.log(error);\n    return new Response(JSON.stringify({ error }), { status: 500 });\n  }\n}\nexport {\n  PUT\n};\n"],"names":[],"mappings":";;;;AAEA,eAAe,GAAG,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;AACxC,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,gBAAgB,EAAE,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE;AAChF,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM;AAC3B,EAAE,IAAI;AACN,IAAI,MAAM,CAAC,MAAM,CAAC,GAAG,MAAM,IAAI,CAAC,KAAK;AACrC,MAAM,8HAA8H;AACpI,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,gBAAgB,EAAE,MAAM;AAC5D,KAAK;AACL,IAAI,IAAI,MAAM,CAAC,YAAY,KAAK,CAAC,EAAE;AACnC,MAAM,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,eAAe,EAAE,CAAC,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AACtF;AACA,IAAI,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AAC3E,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;AACtB,IAAI,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AACnE;AACA;;;;"}